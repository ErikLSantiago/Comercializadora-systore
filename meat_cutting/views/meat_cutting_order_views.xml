<odoo>
  <record id="view_meat_cutting_order_tree" model="ir.ui.view">
    <field name="name">meat.cutting.order.tree</field>
    <field name="model">meat.cutting.order</field>
    <field name="arch" type="xml">
      <list>
        <field name="name"/>
        <field name="state"/>
        <field name="product_src_id"/>
        <field name="lot_src_id"/>
        <field name="weight_consume_kg"/>
        <field name="weight_total_produced_kg"/>
        <field name="location_src_id"/>
        <field name="location_dest_id"/>
      </list>
    </field>
  </record>

  <record id="view_meat_cutting_order_form" model="ir.ui.view">
    <field name="name">meat.cutting.order.form</field>
    <field name="model">meat.cutting.order</field>
    <field name="arch" type="xml">
      <form string="Orden de Despiece">
        <header>
          <button name="action_calculate" type="object" string="Calcular" states="draft" class="btn-primary"/>
          <button name="action_confirm" type="object" string="Confirmar" states="draft,calculated" class="btn-primary"/>
          <button name="action_done" type="object" string="Aplicar / Hecho" states="confirmed" class="btn-success"/>
          <field name="state" widget="statusbar" statusbar_visible="draft,calculated,confirmed,done"/>
        </header>

        <sheet>
          <group>
            <group string="Origen">
              <field name="product_src_id"/>
              <field name="lot_src_id"/>
              <field name="location_src_id"/>
              <field name="weight_consume_kg"/>
              <field name="tolerance_kg"/>
            </group>
            <group string="Destino">
              <field name="location_dest_id" options="{'no_create': True}" placeholder="(Opcional)"/>
              <field name="production_location_id" readonly="1"/>
              <field name="weight_total_produced_kg" readonly="1"/>
              <field name="picking_id" readonly="1"/>
            </group>
          </group>

          <notebook>
            <page string="Resultados">
              <field name="line_ids">
                <tree editable="bottom">
                  <field name="product_id"/>
                  <field name="qty_done"/>
                  <field name="weight_unit_kg"/>
                  <field name="weight_total_kg" readonly="1"/>
                  <field name="lot_id"/>
                </list>
              </field>
            </page>
          </notebook>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_meat_cutting_order" model="ir.actions.act_window">
    <field name="name">Órdenes de Despiece</field>
    <field name="res_model">meat.cutting.order</field>
    <field name="view_mode">list,form</field>
  </record>

  <menuitem id="menu_meat_cutting_root" name="Despiece" parent="stock.menu_stock_root" sequence="50"/>
  <menuitem id="menu_meat_cutting_orders" name="Órdenes de Despiece" parent="menu_meat_cutting_root"
            action="action_meat_cutting_order" sequence="10"/>
</odoo>
