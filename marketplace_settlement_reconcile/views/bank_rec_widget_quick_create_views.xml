<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Add "Marketplace Settlement" button in the Bank Reconciliation Widget quick-create form -->
    <record id="view_bank_statement_line_quick_create_form_bank_rec_widget_mkp" model="ir.ui.view">
        <field name="name">account.bank.statement.line.quick.create.form.bank.rec.widget.mkp</field>
        <field name="model">account.bank.statement.line</field>
        <field name="inherit_id" ref="account_accountant.view_bank_statement_line_quick_create_form_bank_rec_widget"/>
        <field name="arch" type="xml">
            <!-- Some builds don't have a <header> in the quick-create form. Insert button at top of the form instead. -->
            <xpath expr="//form" position="inside">
                <div class="mb-2">
                    <button name="action_open_marketplace_settlement"
                            type="object"
                            string="Marketplace"
                            class="btn btn-primary btn-sm"
                            invisible="amount &lt;= 0"/>
                </div>
            </xpath>

            <xpath expr="//form" position="inside">
                <group string="Marketplace">
                    <field name="marketplace_settlement_id" readonly="1"/>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
